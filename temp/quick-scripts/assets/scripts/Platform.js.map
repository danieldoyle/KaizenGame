{"version":3,"sources":["Platform.js"],"names":["MoveAxis","cc","Enum","X","Y","Class","extends","Component","properties","speed","distance","axis","default","type","onLoad","_movedDistance","_direction","_movedDiff","_moveAxis","update","dt","d","movedDistance","Math","abs","node","x","y"],"mappings":";;;;;;AAAA,IAAIA,WAAWC,GAAGC,IAAH,CAAQ;AACnBC,OAAG,CADgB;AAEnBC,OAAG;AAFgB,CAAR,CAAf;;AAMAH,GAAGI,KAAH,CAAS;AACLC,aAASL,GAAGM,SADP;;AAGLC,gBAAY;AACRC,eAAO,EADC;AAERC,kBAAU,GAFF;AAGRC,cAAM;AACFC,qBAASZ,SAASG,CADhB;AAEFU,kBAAMb;AAFJ;AAHE,KAHP;;AAcL;AACAc,YAAQ,kBAAY;AAChB,aAAKC,cAAL,GAAsB,KAAKL,QAAL,GAAgB,CAAtC;AACA,aAAKM,UAAL,GAAkB,CAAlB;AACA,aAAKC,UAAL,GAAkB,CAAlB;AACA,YAAI,KAAKN,IAAL,KAAcX,SAASG,CAA3B,EACA;AACI,iBAAKe,SAAL,GAAiB,CAAjB;AACH,SAHD,MAKA;AACI,iBAAKA,SAAL,GAAiB,CAAjB;AACH;AACJ,KA3BI;;AA6BL;AACAC,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAIC,IAAI,KAAKZ,KAAL,GAAa,KAAKO,UAAlB,GAA+BI,EAAvC;;AAEA,YAAIE,gBAAgB,KAAKP,cAAL,GAAsBQ,KAAKC,GAAL,CAASH,CAAT,CAA1C;AACA,aAAKN,cAAL,IAAuBQ,KAAKC,GAAL,CAASH,CAAT,CAAvB;;AAEA,YAAIC,gBAAgB,KAAKZ,QAAzB,EAAmC;AAC/BW,gBAAI,KAAKX,QAAL,GAAgB,KAAKK,cAAzB;AACA,iBAAKA,cAAL,GAAsB,CAAtB;AACA,iBAAKC,UAAL,IAAmB,CAAC,CAApB;AACH,SAJD,MAKK;AACD,iBAAKD,cAAL,GAAsBO,aAAtB;AACH;;AAED,YAAI,KAAKX,IAAL,KAAcX,SAASG,CAA3B,EACA;AACI,iBAAKsB,IAAL,CAAUC,CAAV,IAAeL,CAAf;AAEH,SAJD,MAMA;AACI,iBAAKI,IAAL,CAAUE,CAAV,IAAeN,CAAf;AAEH;AACD,aAAKJ,UAAL,GAAkBI,CAAlB;AACH;AAxDI,CAAT","file":"Platform.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["var MoveAxis = cc.Enum({\r\n    X: 0,\r\n    Y: 1\r\n });\r\n\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        speed: 10,\r\n        distance: 200,\r\n        axis: {\r\n            default: MoveAxis.X,\r\n            type: MoveAxis\r\n        },\r\n    },\r\n\r\n    \r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._movedDistance = this.distance / 2;\r\n        this._direction = 1;\r\n        this._movedDiff = 0;\r\n        if (this.axis === MoveAxis.X)\r\n        {\r\n            this._moveAxis = 0;\r\n        }\r\n        else\r\n        {\r\n            this._moveAxis = 1;\r\n        }\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n        var d = this.speed * this._direction * dt;\r\n        \r\n        var movedDistance = this._movedDistance + Math.abs(d);\r\n        this._movedDistance += Math.abs(d);\r\n        \r\n        if (movedDistance > this.distance) {\r\n            d = this.distance - this._movedDistance;\r\n            this._movedDistance = 0;\r\n            this._direction *= -1;\r\n        }\r\n        else {\r\n            this._movedDistance = movedDistance;\r\n        }\r\n        \r\n        if (this.axis === MoveAxis.X)\r\n        {\r\n            this.node.x += d;\r\n        \r\n        }\r\n        else\r\n        {\r\n            this.node.y += d;\r\n        \r\n        }\r\n        this._movedDiff = d;\r\n    },\r\n});\r\n"]}